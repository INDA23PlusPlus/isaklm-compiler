transpiler from custom language to C++

BNF:
https://bnfplayground.pauliankline.com/?bnf=%3Cstatements%3E%20%3A%3A%3D%20%3Cstatement%3E%20%7C%20%3Cstatement%3E%20%3Cstatements%3E%0A%3Cstatement%3E%20%3A%3A%3D%20%3Cdeclaration%3E%20%7C%20%3Cassignment%3E%20%7C%20%3Cloop%3E%20%7C%20%3Cconditional%3E%20%7C%20%3Cfunction_call%3E%20%7C%20%3Cprint%3E%0A%0A%3Cdeclaration%3E%20%3A%3A%3D%20%3Cinteger_declaration%3E%20%7C%20%3Carray_declaration%3E%20%7C%20%3Cfunction_declaration%3E%0A%3Cinteger_declaration%3E%20%3A%3A%3D%20%3Cidentifier%3E%20%3Ccolon_equals%3E%20%3Carithmetic_expression%3E%20%3Csemicolon%3E%0A%3Carray_declaration%3E%20%3A%3A%3D%20%3Cidentifier%3E%20%3Ccolon%3E%20%3Copen_bracket%3E%20%3Cconstant%3E%20%3Cclose_bracket%3E%20%3Csemicolon%3E%0A%3Cfunction_declaration%3E%20%3A%3A%3D%20%3Cdefine%3E%20%3Cidentifier%3E%20%3Copen%3E%20%3Cparameters%3E%20%3Cclose%3E%20%3Cfunction_body%3E%20%3Cclose_scope%3E%0A%3Cparameters%3E%20%3A%3A%3D%20%3Cparameter%3E%20%7C%20%3Cparameter%3E%20%3Ccomma%3E%20%3Cparameters%3E%0A%3Cparameter%3E%20%3A%3A%3D%20%3Cidentifier%3E%20%3Ccolon%3E%20%3Ctype%3E%0A%3Cfunction_body%3E%20%3A%3A%3D%20%3Cstatements%3E%20%7C%20%3Cstatements%3E%20%3Cfunction_callback%3E%20%7C%20%3Cfunction_callback%3E%0A%3Cfunction_callback%3E%20%3A%3A%3D%20%3Ccall_back%3E%20%3Carithmetic_expression%3E%0A%0A%3Cassignment%3E%20%3A%3A%3D%20%3Cvariable_assignment%3E%20%7C%20%3Carray_assignment%3E%0A%3Cvariable_assignment%3E%20%3A%3A%3D%20%3Cidentifier%3E%20%3Cassign%3E%20%3Carithmetic_expression%3E%20%3Csemicolon%3E%0A%3Carray_assignment%3E%20%3A%3A%3D%20%3Carray_access%3E%20%3Cassign%3E%20%3Carithmetic_expression%3E%20%3Csemicolon%3E%0A%0A%3Carray_access%3E%20%3A%3A%3D%20%3Cidentifier%3E%20%3Copen_bracket%3E%20%3Cnumeric%3E%20%3Cclose_bracket%3E%0A%3Cfunction_call%3E%20%3A%3A%3D%20%3Cidentifier%3E%20%3Copen%3E%20%3Carguments%3E%20%3Cclose%3E%20%7C%20%3Cinput%3E%0A%3Carguments%3E%20%3A%3A%3D%20%3Cidentifier%3E%20%7C%20%3Cidentifier%3E%20%3Ccomma%3E%20%3Carguments%3E%0A%0A%3Carithmetic_expression%3E%20%3A%3A%3D%20%3Cnumeric%3E%20%7C%20%3Carithmetic_expression%3E%20%3Carithmetic_operator%3E%20%3Carithmetic_expression%3E%20%7C%20%3Copen%3E%20%3Carithmetic_expression%3E%20%3Cclose%3E%0A%3Cnumeric%3E%20%3A%3A%3D%20%3Cconstant%3E%20%7C%20%3Cidentifier%3E%20%7C%20%3Carray_access%3E%20%7C%20%3Cfunction_call%3E%0A%0A%3Carithmetic_operator%3E%20%3A%3A%3D%20%3Cplus%3E%20%7C%20%3Cminus%3E%20%7C%20%3Cmultiply%3E%20%7C%20%3Cdivide%3E%20%7C%20%3Cmodulo%3E%0A%0A%3Cloop%3E%20%3A%3A%3D%20%3Cwhile%3E%20%3Cboolean_expression%3E%20%3Copen_scope%3E%20%3Cstatements%3E%20%3Cclose_scope%3E%0A%3Cconditional%3E%20%3A%3A%3D%20%3Cif_statement%3E%20%7C%20%3Cif_statement%3E%20%3Celse_statement%3E%0A%3Cif_statement%3E%20%3A%3A%3D%20%3Cif%3E%20%3Cboolean_expression%3E%20%3Copen_scope%3E%20%3Cstatements%3E%20%3Cclose_scope%3E%0A%3Celse_statement%3E%20%3A%3A%3D%20%3Celse%3E%20%3Copen_scope%3E%20%3Cstatements%3E%20%3Cclose_scope%3E%0A%0A%3Cboolean_expression%3E%20%3A%3A%3D%20%3Carithmetic_expression%3E%20%3Ccomparison_operator%3E%20%3Carithmetic_expression%3E%20%7C%20%3Cboolean_expression%3E%20%3Cboolean_operator%3E%20%3Cboolean_expression%3E%20%7C%20%3Copen%3E%20%3Cboolean_expression%3E%20%3Cclose%3E%0A%3Ccomparison_operator%3E%20%3A%3A%3D%20%3Cequals%3E%20%7C%20%3Cnot_equals%3E%20%7C%20%3Cgreater%3E%20%7C%20%3Cless%3E%0A%3Cboolean_operator%3E%20%3A%3A%3D%20%3Cequals%3E%20%7C%20%3Cnot_equals%3E%20%7C%20%3Cand%3E%20%7C%20%3Cor%3E%0A%0A%3Cinput_call%3E%20%3A%3A%3D%20%3Cinput%3E%20%3Copen%3E%20%3Cstring%3E%20%3Cclose%3E%0A%3Cprint_call%3E%20%3A%3A%3D%20%3Cprint%3E%20%3Copen%3E%20%3Cstring%3E%20%3Cclose%3E%20%7C%20%3Cprint%3E%20%3Copen%3E%20%3Carithmetic_expression%3E%20%3Cclose%3E%0A%0A%3Ctype%3E%20%3A%3A%3D%20%3Cint%3E%20%7C%20%3Cvec%3E%0A%0A%3Cidentifier%3E%20%3A%3A%3D%20%22some_identifier%22%0A%3Cconstant%3E%20%3A%3A%3D%20%22some_constant%22%0A%3Cint%3E%20%3A%3A%3D%20%22int%22%0A%3Cvec%3E%20%3A%3A%3D%20%22vec%22%0A%3Cdefine%3E%20%3A%3A%3D%20%22def%22%0A%3Ccall_back%3E%20%3A%3A%3D%20%22return%22%0A%3Ccolon%3E%20%3A%3A%3D%20%22%3A%22%0A%3Csemicolon%3E%20%3A%3A%3D%20%22%3B%22%0A%3Ccomma%3E%20%3A%3A%3D%20%22%2C%22%0A%3Ccolon_equals%3E%20%3A%3A%3D%20%22%3A%3D%22%0A%3Cequals%3E%20%3A%3A%3D%20%22%3D%22%0A%3Cnot_equals%3E%20%3A%3A%3D%20%22!%3D%22%0A%3Cgreater%3E%20%3A%3A%3D%20%22%3E%22%0A%3Cless%3E%20%3A%3A%3D%20%22%3C%22%0A%3Cassign%3E%20%3A%3A%3D%20%22-%3E%22%0A%3Cplus%3E%20%3A%3A%3D%20%22%2B%22%0A%3Cminus%3E%20%3A%3A%3D%20%22-%22%0A%3Cmultiply%3E%20%3A%3A%3D%20%22*%22%0A%3Cdivide%3E%20%3A%3A%3D%20%22%2F%22%0A%3Cmodulo%3E%20%3A%3A%3D%20%22%25%22%0A%3Cand%3E%20%3A%3A%3D%20%22%26%22%0A%3Cor%3E%20%3A%3A%3D%20%22%7C%22%0A%3Copen_scope%3E%20%3A%3A%3D%20%22%7B%22%0A%3Cclose_scope%3E%20%3A%3A%3D%20%22%7D%22%0A%3Copen%3E%20%3A%3A%3D%20%22(%22%0A%3Cclose%3E%20%3A%3A%3D%20%22)%22%0A%3Copen_bracket%3E%20%3A%3A%3D%20%22%5B%22%0A%3Cclose_bracket%3E%20%3A%3A%3D%20%22%5D%22%0A%3Cwhile%3E%20%3A%3A%3D%20%22while%22%0A%3Cif%3E%20%3A%3A%3D%20%22if%22%0A%3Celse%3E%20%3A%3A%3D%20%22else%22%0A%3Cinput%3E%20%3A%3A%3D%20%22input%22%0A%3Cprint%3E%20%3A%3A%3D%20%22print%22%0A%3Cstring%3E%20%3A%3A%3D%20%22some_string%22&name=
